# é…·å½±æ’­æ”¾å™¨ (CorePlayer)

<div align="center">

[![Flutter](https://img.shields.io/badge/Flutter-3.38.1-blue.svg)](https://flutter.dev)
[![License](https://img.shields.io/badge/license-Dual-green.svg)](#-è®¸å¯è¯)
[![Platform](https://img.shields.io/badge/platform-iOS%7CAndroid%7CWeb%7CWindows%7CmacOS%7CLinux-orange.svg)](#ç‰¹æ€§)
[![Edition](https://img.shields.io/badge/edition-Community%20%7C%20Pro-orange.svg)](#-ç‰ˆæœ¬è¯´æ˜)

**é…·å½±æ’­æ”¾å™¨ CorePlayer** - é…·ç‚«å½±éŸ³ï¼Œç•…äº«æ— é™

*æè‡´æ’­æ”¾ï¼Œæ™ºèƒ½ç®¡ç†ï¼Œè·¨ç•Œä½“éªŒ*

[English](./README_EN.md) | ä¸­æ–‡

</div>

## ğŸ¯ å“ç‰Œç†å¿µ

**é…·å½±**â€”â€”é…·ç‚«çš„å½±éŸ³ä½“éªŒï¼Œè®©è§‚å½±æ›´åŠ ç²¾å½©ã€‚

- **é…·**ï¼šé…·ç‚«ã€å…ˆè¿›ï¼Œä»£è¡¨æˆ‘ä»¬çš„ç°ä»£åŒ–è®¾è®¡å’ŒæŠ€æœ¯å®åŠ›
- **å½±**ï¼šå½±éŸ³ã€è§†é¢‘ï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒæœåŠ¡

æˆ‘ä»¬è‡´åŠ›äºæ‰“é€ æœ€é…·ç‚«ã€æœ€æ™ºèƒ½ã€æœ€æµç•…çš„è§†é¢‘æ’­æ”¾å’Œç®¡ç†å¹³å°ï¼Œè®©æ¯ä¸€æ¬¡è§‚å½±éƒ½æˆä¸ºäº«å—ã€‚

## ğŸ“¦ ç‰ˆæœ¬è¯´æ˜

### ç¤¾åŒºç‰ˆ (Community Edition)
- âœ… åŸºç¡€æœ¬åœ°è§†é¢‘æ’­æ”¾
- âœ… ç½‘ç»œè§†é¢‘æ’­æ”¾å’Œç¼“å­˜
- âœ… æ’­æ”¾å†å²å’Œæ–­ç‚¹ç»­æ’­
- âœ… å­—å¹•åŠ è½½å’Œè‡ªå®šä¹‰
- âœ… åª’ä½“åº“ç®¡ç†
- âš ï¸ **SMB/NAS åŠŸèƒ½éœ€å‡çº§åˆ°ä¸“ä¸šç‰ˆ**

### ä¸“ä¸šç‰ˆ (Professional Edition)
- âœ… **ç¤¾åŒºç‰ˆæ‰€æœ‰åŠŸèƒ½**
- âœ… **SMB/CIFS** ç½‘ç»œå…±äº«è®¿é—®
- âœ… **FTP/SFTP** å®‰å…¨æ–‡ä»¶ä¼ è¾“
- âœ… **NFS** ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿæ”¯æŒ
- âœ… **WebDAV** åè®®æ”¯æŒ
- âœ… **HEVC/H.265** ä¸“ä¸šè§£ç å™¨
- âœ… **AI æ™ºèƒ½å­—å¹•**
- âœ… **å¤šè®¾å¤‡åŒæ­¥**
- âœ… **æ›´å¤šé«˜çº§åŠŸèƒ½**

> ğŸ’¡ **æç¤º**: åœ¨ç¤¾åŒºç‰ˆä¸­å°è¯•ä½¿ç”¨ SMB åŠŸèƒ½æ—¶ï¼Œå°†æ˜¾ç¤ºå‹å¥½çš„å‡çº§æç¤ºå¯¹è¯æ¡†ï¼Œå¼•å¯¼ç”¨æˆ·äº†è§£ä¸“ä¸šç‰ˆåŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¬ æœ¬åœ°æ’­æ”¾
- âœ… **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒ iOSã€Androidã€Webã€Windowsã€macOSã€Linux
- âœ… **è¶…é«˜æ¸…æ’­æ”¾** - å®Œæ•´æ”¯æŒ 4K/8K è§†é¢‘ï¼Œç¡¬ä»¶åŠ é€Ÿè§£ç 
- âœ… **å¤šæ ¼å¼æ”¯æŒ** - MP4ã€MKVã€AVIã€MOVã€WebM ç­‰ä¸»æµæ ¼å¼
- âœ… **æ™ºèƒ½ç¡¬ä»¶åŠ é€Ÿ** - è‡ªåŠ¨å¯ç”¨ VideoToolboxã€DXVA2ã€VAAPI ç­‰
- âœ… **HDR è§†é¢‘æ”¯æŒ** - HDR10ã€HLG ç­‰é«˜åŠ¨æ€èŒƒå›´æ ¼å¼
- âœ… **å®Œæ•´æ’­æ”¾æ§åˆ¶** - æ’­æ”¾/æš‚åœã€è¿›åº¦è°ƒèŠ‚ã€éŸ³é‡æ§åˆ¶ã€å…¨å±æ¨¡å¼

### ğŸŒ ç½‘ç»œåŠŸèƒ½
- âœ… **ç½‘ç»œè§†é¢‘æ’­æ”¾** - æ”¯æŒ HTTP/HTTPS ç›´é“¾æ’­æ”¾
- âœ… **HLS æµåª’ä½“** - æ”¯æŒ m3u8 è‡ªé€‚åº”æµæ’­æ”¾
- âœ… **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ** - è¾¹æ’­è¾¹ç¼“å­˜ï¼ŒèŠ‚çœæµé‡
- âœ… **ç¼“å­˜ä¼˜å…ˆåŠ è½½** - å·²ç¼“å­˜è§†é¢‘ç§’å¼€ï¼Œæ— éœ€ç­‰å¾…
- âœ… **æ–­ç‚¹ç»­ä¼ ** - ç½‘ç»œä¸­æ–­è‡ªåŠ¨æ¢å¤æ’­æ”¾
- âœ… **URL å†å²ç®¡ç†** - å¿«æ·è®¿é—®å¸¸ç”¨è§†é¢‘æº

### ğŸ  åª’ä½“æœåŠ¡å™¨é›†æˆ (ä¸“ä¸šç‰ˆ)
- ğŸ”’ **SMB/NAS æ”¯æŒ** - ç›´æ¥è®¿é—®ç½‘ç»œå…±äº«æ–‡ä»¶å¤¹ **(ä¸“ä¸šç‰ˆ)**
- ğŸ”’ **Emby é›†æˆ** - å®Œæ•´çš„ Emby åª’ä½“æœåŠ¡å™¨æ”¯æŒ **(ä¸“ä¸šç‰ˆ)**
- ğŸ”’ **Jellyfin é›†æˆ** - Jellyfin åª’ä½“åº“æ— ç¼è®¿é—® **(ä¸“ä¸šç‰ˆ)**
- ğŸ”’ **Plex é›†æˆ** - Plex æœåŠ¡å™¨å†…å®¹æ’­æ”¾ **(ä¸“ä¸šç‰ˆ)**
- âœ… **æœåŠ¡å™¨ç®¡ç†** - æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å¤šä¸ªåª’ä½“æœåŠ¡å™¨
- âœ… **è¿œç¨‹ç¼©ç•¥å›¾** - è‡ªåŠ¨è·å–å’Œç¼“å­˜è§†é¢‘å°é¢
- âœ… **ç‰ˆæœ¬é™åˆ¶æç¤º** - ç¤¾åŒºç‰ˆå°è¯•è®¿é—® SMB æ—¶æ˜¾ç¤ºå‹å¥½çš„å‡çº§å¯¹è¯æ¡†

### ğŸ“ å­—å¹•åŠŸèƒ½
- âœ… **å¤šæ ¼å¼å­—å¹•** - æ”¯æŒ SRTã€ASSã€SSAã€VTT ç­‰æ ¼å¼
- âœ… **å¤–éƒ¨å­—å¹•åŠ è½½** - è‡ªåŠ¨åŒ¹é…åŒåå­—å¹•æ–‡ä»¶
- âœ… **å­—å¹•æ ·å¼è‡ªå®šä¹‰** - å­—ä½“å¤§å°ã€é¢œè‰²ã€ä½ç½®è°ƒèŠ‚
- âœ… **å¤šè¯­è¨€åˆ‡æ¢** - æ”¯æŒå¤šå­—å¹•è½¨é“åˆ‡æ¢
- âœ… **å­—å¹•åŒæ­¥** - ç²¾ç¡®è°ƒèŠ‚å­—å¹•å»¶è¿Ÿ
- âœ… **ç¼–ç è‡ªåŠ¨æ£€æµ‹** - æ™ºèƒ½è¯†åˆ« UTF-8ã€GBK ç­‰ç¼–ç 

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- âœ… **æ·±è‰²ä¸»é¢˜è®¾è®¡** - æŠ¤çœ¼çš„æ·±è‰²ç•Œé¢é£æ ¼
- âœ… **ä¾§è¾¹æ å¯¼èˆª** - æ¸…æ™°çš„å¯¼èˆªç»“æ„
- âœ… **å“åº”å¼å¸ƒå±€** - è‡ªé€‚åº”å„ç§å±å¹•å°ºå¯¸
- âœ… **æµç•…åŠ¨ç”»** - ç²¾è‡´çš„æ‚¬åœå’Œåˆ‡æ¢åŠ¨ç”»
- âœ… **å¡ç‰‡å¼è®¾è®¡** - ç°ä»£åŒ–çš„è§†é¢‘å¡ç‰‡å±•ç¤º

### ğŸ“Š æ’­æ”¾å†å²
- âœ… **æ™ºèƒ½è®°å½•** - è‡ªåŠ¨è®°å½•è§‚çœ‹è¿›åº¦
- âœ… **æ–­ç‚¹ç»­æ’­** - ä»ä¸Šæ¬¡ä½ç½®ç»§ç»­è§‚çœ‹
- âœ… **æœç´¢è¿‡æ»¤** - æŒ‰åç§°ã€çŠ¶æ€ã€æ—¶é—´ç­›é€‰
- âœ… **æ‰¹é‡ç®¡ç†** - å¤šé€‰åˆ é™¤å†å²è®°å½•
- âœ… **ç¼©ç•¥å›¾é¢„è§ˆ** - è§†é¢‘å°é¢å¿«é€Ÿè¯†åˆ«
- âœ… **æ’­æ”¾ç»Ÿè®¡** - è¯¦ç»†çš„è§‚çœ‹æ•°æ®

### âš¡ æ€§èƒ½ç›‘æ§
- âœ… **å®æ—¶æ€§èƒ½é¢æ¿** - CPUã€GPUã€å†…å­˜å ç”¨ç›‘æ§
- âœ… **å¸§ç‡ç›‘æ§** - å®æ—¶æ˜¾ç¤ºæ’­æ”¾å¸§ç‡
- âœ… **è§†é¢‘ä¿¡æ¯æŸ¥çœ‹** - ç¼–è§£ç å™¨ã€åˆ†è¾¨ç‡ã€ç ç‡ç­‰å‚æ•°
- âœ… **æ€§èƒ½æŒ‡ç¤ºå™¨** - é¢œè‰²ç¼–ç çš„æ€§èƒ½çŠ¶æ€æ˜¾ç¤º
- âœ… **æ’­æ”¾è´¨é‡åˆ‡æ¢** - è‡ªåŠ¨/é«˜è´¨é‡/ä½åŠŸè€—/å…¼å®¹æ¨¡å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
```
Flutter 3.38.1 æˆ–æ›´é«˜ç‰ˆæœ¬
Dart 3.10.0 æˆ–æ›´é«˜ç‰ˆæœ¬
```

### å®‰è£…ä¾èµ–
```bash
flutter pub get
```

### è¿è¡Œåº”ç”¨
```bash
# è¿è¡Œåˆ°Chromeæµè§ˆå™¨
flutter run -d chrome

# è¿è¡Œåˆ°æŒ‡å®šå¹³å°
flutter run -d android    # Androidè®¾å¤‡
flutter run -d ios       # iOSè®¾å¤‡
flutter run -d macos     # macOSæ¡Œé¢
flutter run -d windows   # Windowsæ¡Œé¢
flutter run -d linux     # Linuxæ¡Œé¢
```

### æ„å»ºå‘å¸ƒç‰ˆæœ¬
```bash
# Webç‰ˆæœ¬
flutter build web

# æ¡Œé¢ç‰ˆæœ¬
flutter build windows
flutter build macos
flutter build linux

# ç§»åŠ¨ç‰ˆæœ¬
flutter build apk
flutter build ios
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æ ¸å¿ƒç›®å½•ç»“æ„

```
lib/
â”œâ”€â”€ main.dart                              # åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ core/                                  # æ ¸å¿ƒç³»ç»Ÿ
â”‚   â”œâ”€â”€ plugin_system/                     # æ’ä»¶ç³»ç»Ÿ â­
â”‚   â”‚   â”œâ”€â”€ plugin_loader.dart             # æ’ä»¶åŠ è½½å™¨ï¼ˆç‰ˆæœ¬æ§åˆ¶ï¼‰
â”‚   â”‚   â”œâ”€â”€ plugin_registry.dart           # æ’ä»¶æ³¨å†Œè¡¨
â”‚   â”‚   â”œâ”€â”€ plugin_interface.dart          # æ’ä»¶æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ core_plugin.dart               # æ ¸å¿ƒæ’ä»¶åŸºç±»
â”‚   â”‚   â”œâ”€â”€ media_server_plugin.dart       # åª’ä½“æœåŠ¡å™¨æ’ä»¶æ¥å£
â”‚   â”‚   â””â”€â”€ plugins/                       # æ’ä»¶å®ç°
â”‚   â”‚       â”œâ”€â”€ builtin/                   # å†…ç½®æ’ä»¶ï¼ˆç¤¾åŒºç‰ˆ+ä¸“ä¸šç‰ˆï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ subtitle/              # å­—å¹•æ’ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ audio_effects/         # éŸ³é¢‘æ•ˆæœ
â”‚   â”‚       â”‚   â””â”€â”€ video_processing/      # è§†é¢‘å¤„ç†
â”‚   â”‚       â”œâ”€â”€ media_server/              # åª’ä½“æœåŠ¡å™¨æ’ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ placeholders/          # å ä½ç¬¦ï¼ˆç¤¾åŒºç‰ˆï¼‰
â”‚   â”‚       â”‚   â””â”€â”€ smb/                   # SMBæ’ä»¶ï¼ˆä¸“ä¸šç‰ˆï¼‰ğŸ”’
â”‚   â”‚       â””â”€â”€ third_party/               # ç¬¬ä¸‰æ–¹æ’ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ edition/
â”‚       â””â”€â”€ edition_config.dart            # ç‰ˆæœ¬é…ç½®ï¼ˆCommunity/Proï¼‰
â”‚
â”œâ”€â”€ screens/                               # ç•Œé¢å±‚
â”‚   â”œâ”€â”€ home_screen.dart                   # ä¸»ç•Œé¢ï¼ˆä¾§è¾¹æ å¯¼èˆªï¼‰
â”‚   â”œâ”€â”€ player_screen.dart                 # æ’­æ”¾å™¨ç•Œé¢
â”‚   â”œâ”€â”€ series_detail_page.dart            # å‰§é›†è¯¦æƒ…é¡µ â­
â”‚   â”œâ”€â”€ playback_history_screen.dart       # æ’­æ”¾å†å²
â”‚   â”œâ”€â”€ media_library_screen.dart          # åª’ä½“åº“
â”‚   â”œâ”€â”€ media_server_list_page.dart        # åª’ä½“æœåŠ¡å™¨åˆ—è¡¨
â”‚   â”œâ”€â”€ plugin_manager_screen.dart         # æ’ä»¶ç®¡ç† â­
â”‚   â””â”€â”€ settings_screen.dart               # è®¾ç½®ç•Œé¢
â”‚
â”œâ”€â”€ services/                              # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ local_proxy_server.dart            # æœ¬åœ°ä»£ç†æœåŠ¡å™¨ â­
â”‚   â”œâ”€â”€ file_source_factory.dart           # æ–‡ä»¶æºå·¥å‚ï¼ˆç‰ˆæœ¬æ§åˆ¶ï¼‰â­
â”‚   â”œâ”€â”€ media_server_service.dart          # åª’ä½“æœåŠ¡å™¨ç®¡ç†
â”‚   â”œâ”€â”€ network_stream_service.dart        # ç½‘ç»œæµæœåŠ¡
â”‚   â”œâ”€â”€ video_cache_service.dart           # è§†é¢‘ç¼“å­˜æœåŠ¡
â”‚   â”œâ”€â”€ subtitle_service.dart              # å­—å¹•æœåŠ¡
â”‚   â”œâ”€â”€ history_service.dart               # å†å²è®°å½•æœåŠ¡
â”‚   â”œâ”€â”€ plugin_status_service.dart         # æ’ä»¶çŠ¶æ€æœåŠ¡ â­
â”‚   â””â”€â”€ file_source/                       # æ–‡ä»¶æºå®ç°
â”‚       â”œâ”€â”€ smb_file_source.dart           # SMB æ–‡ä»¶æºï¼ˆä¸“ä¸šç‰ˆï¼‰ğŸ”’
â”‚       â””â”€â”€ smb_connection_pool.dart       # SMB è¿æ¥æ± ï¼ˆä¸“ä¸šç‰ˆï¼‰ğŸ”’
â”‚
â”œâ”€â”€ widgets/                               # UIç»„ä»¶
â”‚   â”œâ”€â”€ upgrade_dialog.dart                # å‡çº§å¯¹è¯æ¡†ï¼ˆç»Ÿä¸€ç»„ä»¶ï¼‰â­
â”‚   â”œâ”€â”€ modern_video_card.dart             # ç°ä»£åŒ–è§†é¢‘å¡ç‰‡
â”‚   â”œâ”€â”€ modern_sidebar.dart                # ä¾§è¾¹æ å¯¼èˆª
â”‚   â”œâ”€â”€ episode_card.dart                  # å‰§é›†å¡ç‰‡
â”‚   â”œâ”€â”€ buffering_indicator.dart           # ç¼“å†²æŒ‡ç¤ºå™¨
â”‚   â””â”€â”€ subtitle_selector.dart             # å­—å¹•é€‰æ‹©å™¨
â”‚
â””â”€â”€ models/                                # æ•°æ®æ¨¡å‹
    â”œâ”€â”€ media_server_config.dart           # åª’ä½“æœåŠ¡å™¨é…ç½®
    â”œâ”€â”€ episode.dart                       # å‰§é›†æ¨¡å‹
    â”œâ”€â”€ series.dart                        # ç³»åˆ—æ¨¡å‹
    â”œâ”€â”€ playback_history.dart              # æ’­æ”¾å†å²æ¨¡å‹
    â”œâ”€â”€ stream_info.dart                   # æµä¿¡æ¯æ¨¡å‹
    â””â”€â”€ subtitle_config.dart               # å­—å¹•é…ç½®
```

> â­ è¡¨ç¤ºå…³é”®æ¨¡å— | ğŸ”’ è¡¨ç¤ºä¸“ä¸šç‰ˆåŠŸèƒ½

### æ¶æ„åˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å±•ç¤ºå±‚ (Presentation)                   â”‚
â”‚   PlayerScreen | SeriesDetail | PluginManager       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic)               â”‚
â”‚   LocalProxyServer | FileSourceFactory | Services   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ’ä»¶ç³»ç»Ÿå±‚ (Plugin System)              â”‚
â”‚   å†…ç½®æ’ä»¶ | å•†ä¸šæ’ä»¶(Pro) | ç¬¬ä¸‰æ–¹æ’ä»¶              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             æ•°æ®è®¿é—®å±‚ (Data Access)                 â”‚
â”‚   æœ¬åœ°å­˜å‚¨ | ç½‘ç»œè¯·æ±‚ | æ–‡ä»¶ç³»ç»Ÿ | SMBåè®®(Pro)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‰ˆæœ¬å·®å¼‚åŒ–å®ç°

**ç¼–è¯‘æ—¶é…ç½®**:
```bash
# ç¤¾åŒºç‰ˆï¼ˆé»˜è®¤ï¼‰
flutter build macos

# ä¸“ä¸šç‰ˆ
flutter build macos --dart-define=EDITION=pro
```

**è¿è¡Œæ—¶æ£€æŸ¥**:
```dart
// lib/core/plugin_system/plugin_loader.dart
if (EditionConfig.isCommunityEdition) {
  // ç¤¾åŒºç‰ˆï¼šåŠ è½½åŸºç¡€æ’ä»¶ï¼Œé™åˆ¶é«˜çº§åŠŸèƒ½
  return _getCommunityEditionPlugins();
} else {
  // ä¸“ä¸šç‰ˆï¼šåŠ è½½æ‰€æœ‰æ’ä»¶
  return _getProEditionPlugins();
}
```



### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Flutter 3.38.1
- **è§†é¢‘å¼•æ“**: media_kit + media_kit_video (åŸºäº MPV)
- **ç½‘ç»œè¯·æ±‚**: http, dio
- **æœ¬åœ°ä»£ç†**: shelf (HTTP æœåŠ¡å™¨)
- **æ–‡ä»¶é€‰æ‹©**: file_picker
- **ç¼“å­˜ç®¡ç†**: hive, sqflite
- **çŠ¶æ€ç®¡ç†**: Provider + StatefulWidget
- **UIæ¡†æ¶**: Material Design 3
- **å­—å¹•å¤„ç†**: charset_converter
- **SMBåè®®**: dart_smb
- **æ’ä»¶ç³»ç»Ÿ**: è‡ªå®šä¹‰æ’ä»¶æ¶æ„ï¼ˆä¸‰å±‚ä»“åº“ç»“æ„ï¼‰

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### æœ¬åœ°è§†é¢‘æ’­æ”¾
1. **æ·»åŠ è§†é¢‘**: ç‚¹å‡»ä¸»ç•Œé¢å³ä¸‹è§’çš„ `+` æŒ‰é’®
2. **æ’­æ”¾æ§åˆ¶**: ç‚¹å‡»æ’­æ”¾å™¨ä¸­å¤®çš„å¤§æ’­æ”¾/æš‚åœæŒ‰é’®
3. **è¿›åº¦è°ƒèŠ‚**: æ‹–æ‹½åº•éƒ¨çš„è¿›åº¦æ¡
4. **éŸ³é‡æ§åˆ¶**: ç‚¹å‡»å³ä¸Šè§’çš„éŸ³é‡å›¾æ ‡
5. **å…¨å±æ’­æ”¾**: ç‚¹å‡»å³ä¸Šè§’çš„å…¨å±å›¾æ ‡

### ç½‘ç»œè§†é¢‘æ’­æ”¾
1. **è¾“å…¥URL**: ç‚¹å‡»ä¸»ç•Œé¢"ç½‘ç»œè§†é¢‘"æŒ‰é’®
2. **ç²˜è´´é“¾æ¥**: è¾“å…¥HTTP/HTTPSæˆ–HLS(m3u8)é“¾æ¥
3. **è‡ªåŠ¨ç¼“å­˜**: æ’­æ”¾æ—¶è‡ªåŠ¨ç¼“å­˜ï¼Œå†æ¬¡è§‚çœ‹ç§’å¼€
4. **URLå†å²**: å¿«é€Ÿè®¿é—®æœ€è¿‘æ’­æ”¾çš„ç½‘ç»œè§†é¢‘

### åª’ä½“æœåŠ¡å™¨
1. **æ·»åŠ æœåŠ¡å™¨**: è¿›å…¥"å½±è§†æœåŠ¡å™¨"â†’"æ·»åŠ æœåŠ¡å™¨"
2. **é€‰æ‹©ç±»å‹**: SMBå…±äº«ã€Embyã€Jellyfinæˆ–Plex
3. **è¾“å…¥ä¿¡æ¯**: å¡«å†™æœåŠ¡å™¨åœ°å€ã€ç”¨æˆ·åã€å¯†ç ç­‰
4. **æµè§ˆåª’ä½“**: æ‰«æå®Œæˆåæµè§ˆå’Œæ’­æ”¾æœåŠ¡å™¨è§†é¢‘

### å­—å¹•åŠŸèƒ½
1. **è‡ªåŠ¨åŠ è½½**: æ’­æ”¾è§†é¢‘æ—¶è‡ªåŠ¨åŒ¹é…åŒåå­—å¹•æ–‡ä»¶
2. **æ‰‹åŠ¨é€‰æ‹©**: ç‚¹å‡»å­—å¹•æŒ‰é’®â†’"åŠ è½½å¤–éƒ¨å­—å¹•"
3. **åˆ‡æ¢å­—å¹•**: ç‚¹å‡»å­—å¹•æŒ‰é’®é€‰æ‹©å­—å¹•è½¨é“
4. **è°ƒèŠ‚å»¶è¿Ÿ**: ä½¿ç”¨åŒæ­¥æ§åˆ¶æŒ‰é’®(Â±100ms/Â±500ms)
5. **è‡ªå®šä¹‰æ ·å¼**: åœ¨è®¾ç½®ä¸­è°ƒèŠ‚å­—å¹•å­—ä½“ã€é¢œè‰²ã€ä½ç½®

### æ’­æ”¾å†å²
1. **æŸ¥çœ‹å†å²**: ç‚¹å‡»ä¾§è¾¹æ "æ’­æ”¾å†å²"
2. **ç»§ç»­è§‚çœ‹**: ç‚¹å‡»å†å²è®°å½•é¡¹ä»ä¸Šæ¬¡ä½ç½®ç»§ç»­
3. **æœç´¢è§†é¢‘**: åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾
4. **æ™ºèƒ½è¿‡æ»¤**: æŒ‰è§‚çœ‹çŠ¶æ€ã€æ—¶é—´èŒƒå›´ç­›é€‰
5. **æ‰¹é‡ç®¡ç†**: é•¿æŒ‰è¿›å…¥å¤šé€‰æ¨¡å¼ï¼Œæ‰¹é‡åˆ é™¤

### æ€§èƒ½ç›‘æ§
1. **è§†é¢‘ä¿¡æ¯**: å³é”®ç‚¹å‡»è§†é¢‘ â†’ "è§†é¢‘ä¿¡æ¯"
2. **æ€§èƒ½ç›‘æ§**: å³é”®ç‚¹å‡»è§†é¢‘ â†’ "æŸ¥çœ‹æ€§èƒ½ä¿¡æ¯"
3. **æ€§èƒ½è¦†ç›–å±‚**: å³é”®ç‚¹å‡»è§†é¢‘ â†’ "åˆ‡æ¢æ€§èƒ½è¦†ç›–å±‚"
4. **è´¨é‡è®¾ç½®**: åœ¨è®¾ç½®ä¸­é€‰æ‹©æ’­æ”¾è´¨é‡æ¨¡å¼

## ğŸ›£ï¸ äº§å“è·¯çº¿

### âœ… å·²å®ŒæˆåŠŸèƒ½ (v0.8)
- âœ… **åŸºç¡€æ’­æ”¾åŠŸèƒ½** - æœ¬åœ°è§†é¢‘æ’­æ”¾ã€å…¨å±ã€è¿›åº¦æ§åˆ¶
- âœ… **æ’­æ”¾å†å²ç³»ç»Ÿ** - æ™ºèƒ½è®°å½•ã€æ–­ç‚¹ç»­æ’­ã€æœç´¢è¿‡æ»¤
- âœ… **è¶…é«˜æ¸…æ”¯æŒ** - 4K/8Kã€ç¡¬ä»¶åŠ é€Ÿã€æ€§èƒ½ç›‘æ§
- âœ… **ç½‘ç»œæµåª’ä½“** - HTTP/HLS æ’­æ”¾ã€æ™ºèƒ½ç¼“å­˜
- âœ… **å­—å¹•ç³»ç»Ÿ** - å¤šæ ¼å¼ã€è‡ªå®šä¹‰æ ·å¼ã€åŒæ­¥è°ƒèŠ‚
- âœ… **åª’ä½“æœåŠ¡å™¨é›†æˆ** - SMB/Emby/Jellyfin/Plex
- âœ… **ç°ä»£åŒ–UI** - æ·±è‰²ä¸»é¢˜ã€ä¾§è¾¹æ ã€å“åº”å¼å¸ƒå±€

### âœ… å·²å®ŒæˆåŠŸèƒ½ (v0.9 - æ’ä»¶ç³»ç»Ÿ & ç‰ˆæœ¬åˆ†ç¦»)
- âœ… **æ’ä»¶æ¶æ„** - å®ç°æ–°ç‰ˆæ’ä»¶ç³»ç»Ÿåˆå§‹æ¶æ„
- âœ… **ä¸‰å±‚ä»“åº“ç»“æ„** - å†…ç½®ã€å•†ä¸šã€ç¬¬ä¸‰æ–¹æ’ä»¶ä»“åº“
- âœ… **æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†** - å®Œæ•´çš„æ’ä»¶å®‰è£…ã€æ›´æ–°ã€å¸è½½æµç¨‹
- âœ… **æ’ä»¶æ³¨å†Œå’Œç®¡ç†ç³»ç»Ÿ** - å¼ºå¤§çš„æ’ä»¶æ³¨å†Œå’Œç®¡ç†åŠŸèƒ½
- âœ… **æ’ä»¶ä¸­å¿ƒ** - æ’ä»¶æµè§ˆã€å®‰è£…ã€ç®¡ç†ç•Œé¢ï¼ˆä¿®å¤tabsåˆ‡æ¢ï¼‰
- âœ… **SMBæ”¯æŒä¼˜åŒ–** - ä¿®å¤æ·»åŠ æœåŠ¡å™¨é¡µé¢SMBç±»å‹æ˜¾ç¤ºé—®é¢˜
- âœ… **ç‰ˆæœ¬å·®å¼‚åŒ–** - ç¤¾åŒºç‰ˆä¸ä¸“ä¸šç‰ˆåŠŸèƒ½åˆ†ç¦»
- âœ… **SMB è®¿é—®é™åˆ¶** - ç¤¾åŒºç‰ˆå°è¯•æ’­æ”¾ SMB è§†é¢‘æ—¶æ˜¾ç¤ºå‹å¥½çš„å‡çº§æç¤º
- âœ… **ç»Ÿä¸€å‡çº§å¯¹è¯æ¡†** - æå–å¯å¤ç”¨çš„ UpgradeDialog ç»„ä»¶

### ğŸ”„ è¿›è¡Œä¸­ (v0.10)
- ğŸ”„ **ç½‘ç»œç¼“å†²ä¼˜åŒ–** - è‡ªé€‚åº”ç¼“å†²ã€å¸¦å®½ç›‘æ§
- ğŸ”„ **macOS æ²™ç›’ä¼˜åŒ–** - Security-Scoped Bookmarks

### ğŸ¯ è¿‘æœŸè®¡åˆ’ (v1.0 - æ­£å¼å‘å¸ƒ)
- [ ] **æ’­æ”¾åˆ—è¡¨ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€å¯¼å…¥/å¯¼å‡ºæ’­æ”¾åˆ—è¡¨
- [ ] **æ’­æ”¾é€Ÿåº¦è°ƒèŠ‚** - 0.25x - 4.0x å˜é€Ÿæ’­æ”¾
- [ ] **ç”»é¢è°ƒèŠ‚** - æ¯”ä¾‹ã€è£å‰ªã€æ—‹è½¬ã€ç¿»è½¬
- [ ] **æˆªå›¾å’Œå½•åˆ¶** - é«˜è´¨é‡æˆªå›¾ã€ç‰‡æ®µå½•åˆ¶

### ğŸš€ ä¸­æœŸç›®æ ‡ (v1.5)
- [ ] **åœ¨çº¿å­—å¹•ä¸‹è½½** - è‡ªåŠ¨æœç´¢å’Œä¸‹è½½å­—å¹•
- [ ] **è§†é¢‘è½¬ç ** - æ ¼å¼è½¬æ¢ã€å‹ç¼©ä¼˜åŒ–
- [ ] **DLNA/Chromecast** - æŠ•å±åˆ°ç”µè§†
- [ ] **WebDAV æ”¯æŒ** - WebDAV æœåŠ¡å™¨é›†æˆ

### ğŸŒŸ é•¿æœŸæ„¿æ™¯ (v2.0)
- [ ] **AI åŠŸèƒ½** - æ™ºèƒ½æ¨èã€åœºæ™¯è¯†åˆ«
- [ ] **äº‘ç«¯åŒæ­¥** - å¤šè®¾å¤‡æ’­æ”¾è¿›åº¦åŒæ­¥
- [ ] **ç¤¾äº¤åŠŸèƒ½** - è§‚å½±è®°å½•åˆ†äº«
- [ ] **ç›´æ’­æ”¯æŒ** - RTMP/RTSP ç›´æ’­æµ

## ğŸ“¹ æ”¯æŒæ ¼å¼

### å®¹å™¨æ ¼å¼
- âœ… **MP4** - å®Œå…¨æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **MKV** - å®Œå…¨æ”¯æŒï¼Œå¤šéŸ³è½¨å­—å¹•
- âœ… **AVI** - å®Œå…¨æ”¯æŒ
- âœ… **MOV** - å®Œå…¨æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **WebM** - å®Œå…¨æ”¯æŒ
- âœ… **FLV** - åŸºæœ¬æ”¯æŒ
- âœ… **WMV** - åŸºæœ¬æ”¯æŒ

### è§†é¢‘ç¼–è§£ç å™¨
- âœ… **H.264/AVC** - å®Œå…¨æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **HEVC/H.265** - å®Œå…¨æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **VP9** - å®Œå…¨æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **AV1** - æ”¯æŒï¼Œéƒ¨åˆ†ç¡¬ä»¶åŠ é€Ÿ
- âœ… **MPEG-2** - æ”¯æŒ
- âœ… **MPEG-4** - æ”¯æŒ
- âœ… **WMV2/3** - æ”¯æŒ
- âœ… **DivX/XviD** - æ”¯æŒ

### éŸ³é¢‘ç¼–è§£ç å™¨
- âœ… **AAC** - å®Œå…¨æ”¯æŒ
- âœ… **MP3** - å®Œå…¨æ”¯æŒ
- âœ… **AC3/Dolby Digital** - æ”¯æŒ
- âœ… **DTS** - æ”¯æŒ
- âœ… **FLAC** - æ”¯æŒ
- âœ… **Opus** - æ”¯æŒ
- âœ… **Vorbis** - æ”¯æŒ

### å­—å¹•æ ¼å¼
- âœ… **SRT** - å®Œå…¨æ”¯æŒ
- âœ… **ASS/SSA** - å®Œå…¨æ”¯æŒï¼Œé«˜çº§æ ·å¼
- âœ… **VTT** - æ”¯æŒ
- âœ… **å†…åµŒå­—å¹•** - æ”¯æŒ MKV å†…åµŒå­—å¹•

### æµåª’ä½“åè®®
- âœ… **HTTP/HTTPS** - ç›´é“¾æ’­æ”¾
- âœ… **HLS (m3u8)** - è‡ªé€‚åº”æµ
- âœ… **SMB** - ç½‘ç»œå…±äº«æ–‡ä»¶å¤¹ï¼ˆé€šè¿‡æœ¬åœ°ä»£ç†ï¼‰

### åˆ†è¾¨ç‡æ”¯æŒ
- âœ… **720p (HD)** - å®Œå…¨æ”¯æŒ
- âœ… **1080p (Full HD)** - å®Œå…¨æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **1440p (2K)** - æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **2160p (4K UHD)** - æ”¯æŒï¼Œç¡¬ä»¶åŠ é€Ÿ
- âœ… **4320p (8K UHD)** - æ”¯æŒï¼Œé«˜æ€§èƒ½è®¾å¤‡ç¡¬ä»¶åŠ é€Ÿ

### HDRæ”¯æŒ
- âœ… **HDR10** - æ”¯æŒ
- âœ… **HLG** - æ”¯æŒ
- âš ï¸ **Dolby Vision** - éƒ¨åˆ†æ”¯æŒ

### å¹³å°ç¡¬ä»¶åŠ é€Ÿ
- âœ… **macOS**: VideoToolbox
- âœ… **Windows**: DXVA2/D3D11VA
- âœ… **Linux**: VAAPI/VDPAU
- âœ… **Android**: MediaCodec
- âœ… **iOS**: VideoToolbox
- âš ï¸ **Web**: ä¾èµ–æµè§ˆå™¨æ”¯æŒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å¼€å‘è€…å‚ä¸è´¡çŒ®ï¼æ— è®ºæ˜¯bugä¿®å¤ã€åŠŸèƒ½å»ºè®®è¿˜æ˜¯ä»£ç ä¼˜åŒ–ï¼Œæˆ‘ä»¬éƒ½éå¸¸æ„Ÿæ¿€ã€‚

### å¦‚ä½•è´¡çŒ®
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

### ä»£ç è§„èŒƒ
- éµå¾ª Flutter å®˜æ–¹ä»£ç è§„èŒƒ
- ä¿æŒä»£ç ç®€æ´ã€å¯è¯»æ€§å¼º
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šè¯´æ˜
- ç¡®ä¿è·¨å¹³å°å…¼å®¹æ€§
- ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨**åŒé‡è®¸å¯**æ¨¡å¼ï¼š

### ç¤¾åŒºç‰ˆ (Community Edition)
- **è®¸å¯è¯**: MIT License
- **ä½¿ç”¨èŒƒå›´**: ä¸ªäººå­¦ä¹ ã€å¼€æºé¡¹ç›®ã€éå•†ä¸šç”¨é€”
- **åŠŸèƒ½é™åˆ¶**: ä¸åŒ…å« SMB/NASã€Embyã€Jellyfin ç­‰åª’ä½“æœåŠ¡å™¨åŠŸèƒ½
- **æºä»£ç **: å®Œå…¨å¼€æºï¼Œå¯è‡ªç”±ä¿®æ”¹å’Œåˆ†å‘

### ä¸“ä¸šç‰ˆ (Professional Edition)
- **è®¸å¯è¯**: å•†ä¸šè®¸å¯ (æŸ¥çœ‹ [LICENSE_COMMERCIAL.md](LICENSE_COMMERCIAL.md))
- **ä½¿ç”¨èŒƒå›´**: å•†ä¸šä½¿ç”¨ã€ä¼ä¸šéƒ¨ç½²
- **åŠŸèƒ½**: åŒ…å«æ‰€æœ‰é«˜çº§åŠŸèƒ½ï¼ˆSMBã€åª’ä½“æœåŠ¡å™¨é›†æˆã€AI å­—å¹•ç­‰ï¼‰
- **æ”¯æŒ**: æä¾›æŠ€æœ¯æ”¯æŒå’Œå®šåˆ¶æœåŠ¡
- **è·å–æ–¹å¼**: è”ç³»ä½œè€…è·å–æˆæƒ

> ğŸ’¡ å¦‚éœ€å•†ä¸šæˆæƒæˆ–äº†è§£ä¸“ä¸šç‰ˆè¯¦æƒ…ï¼Œè¯·è”ç³»ä½œè€…ï¼špeterfeispace@gmail.com

## ğŸ™ è‡´è°¢

- [Flutter](https://flutter.dev/) - ä¼˜ç§€çš„è·¨å¹³å°å¼€å‘æ¡†æ¶
- [media_kit](https://github.com/media-kit/media-kit) - å¼ºå¤§çš„è§†é¢‘æ’­æ”¾å¼•æ“
- [MPV](https://mpv.io/) - é«˜æ€§èƒ½å¤šåª’ä½“æ’­æ”¾å™¨å†…æ ¸
- [file_picker](https://github.com/miguelpruivo/flutter_file_picker) - ä¾¿æ·çš„æ–‡ä»¶é€‰æ‹©æ’ä»¶
- [shelf](https://pub.dev/packages/shelf) - è½»é‡çº§ HTTP æœåŠ¡å™¨

## ğŸ“ è”ç³»æˆ‘ä»¬

**ä½œè€…**: peterfei

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ã€å»ºè®®æˆ–åˆä½œæ„å‘ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- ğŸ“§ é‚®ç®±: [peterfeispace@gmail.com](mailto:peterfeispace@gmail.com)
- ğŸ™ GitHub: [https://github.com/peterfei/core-player](https://github.com/peterfei/core-player)
- ğŸ› Issues: [é¡¹ç›®Issuesé¡µé¢](https://github.com/peterfei/core-player/issues)

---




<div align="center">
**é…·å½±æ’­æ”¾å™¨ CorePlayer** - é…·ç‚«å½±éŸ³ï¼Œç•…äº«æ— é™

*æè‡´æ’­æ”¾ï¼Œæ™ºèƒ½ç®¡ç†ï¼Œè·¨ç•Œä½“éªŒ*

Made with â¤ï¸ by peterfei

</div>